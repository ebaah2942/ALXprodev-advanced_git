#!/bin/bash

# Check all top-level directories (excluding .git)
missing_readmes=0
for dir in */ ; do
  # Skip non-directories
  [ -d "$dir" ] || continue
  # Skip .git directory
  [ "$dir" == ".git/" ] && continue

  if [ ! -f "${dir}README.md" ]; then
    echo "‚ùå Missing README.md in directory: $dir"
    missing_readmes=1
  fi
done

if [ $missing_readmes -eq 1 ]; then
  echo "üõë Commit aborted: Every top-level directory must have a README.md"
  exit 1
fi

exit 0
